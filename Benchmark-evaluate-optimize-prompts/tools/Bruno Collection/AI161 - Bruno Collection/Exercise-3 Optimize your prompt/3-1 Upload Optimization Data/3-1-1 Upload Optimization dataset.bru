meta {
  name: 3-1-1 Upload Optimization dataset
  type: http
  seq: 1
}

put {
  url: {{AI_API_URL}}/v2/lm/dataset/files/{{ObjectStoreSecret}}/{{groupID}}/testdata/facility-classification-optim.json
  body: file
  auth: bearer
}

params:query {
  ~executionScheduleId: 
}

headers {
  AI-Resource-Group: default
}

auth:bearer {
  token: {{TOKEN}}
}

body:json {
  {
    "name": "genai-optimizations_autogenerated",
    "executableId": "genai-optimizations",
    "scenarioId": "genai-optimizations",
    "parameterBindings": [
      {
        "key": "basePrompt",
        "value": "foundation-models/fm-msg-analysis:0.0.1"
      },
      {
        "key": "baseModel",
        "value": "gpt-4o:2024-08-06"
      },
      {
        "key": "dataset",
        "value": "facility-train.json"
      },
      {
        "key": "optimizationMetric",
        "value": "JSON_Match"
      },
      {
        "key": "targetModels",
        "value": "gpt-5:2025-08-07,gemini-2.5-pro:001,mistralai--mistral-large-instruct:2407,amazon--nova-pro:1"
      },
      {
        "key": "targetPromptMapping",
        "value": "gpt-5:2025-08-07=fm-msg-analysis-gpt-5:0.0.1,gemini-2.5-pro:001=fm-msg-analysis-gemini-2.5-pro:0.0.1,mistralai--mistral-large-instruct:2407=fm-msg-analysis-mistralai--mistral-large-instruct:0.0.1,amazon--nova-pro:1=fm-msg-analysis-amazon--nova-pro:0.0.1"
      },
      {
        "key": "includeFewShotExamples",
        "value": "true"
      }
    ],
    "inputArtifactBindings": [
      {
        "key": "prompt-data",
        "artifactId": "957e54c1-0519-42ec-971e-d44b104058e1"
      }
    ]
  }
}

body:file {
  file: @file(C:\Users\I588417\Documents\GitHub\teched2025-AI161\data\datasets\facility_optim_data.json) @contentType(application/json; charset=utf-8)
}
